'use strict';class ScenePlay{constructor(){this.gameover=!1;this.winner=0;this.fontSizeGameOver=1E3;this.scoreP2=this.scoreP1=0;this.scoreP2open=this.scoreP1open=!0}init(){this.gameover=!1;this.fontSizeGameOver=1E3;this.scoreP2open=this.scoreP1open=!0}update(){GticTacToe.boardIsFull()&&0==this.gameover?(this.winner=GticTacToe.boardGetWinner(),this.gameover=!0,GticTacToe.boardReset()):1==this.gameover&&(GticTacToe.boardReset(),1==this.winner&&this.scoreP1open?(this.scoreP1++,this.scoreP1open=!1):2==
this.winner&&this.scoreP2open&&(this.scoreP2++,this.scoreP2open=!1))}draw(){GticTacToe.boardDraw();this.drawScore();if(this.gameover){for(let a=100;30<a;a--)sleep(1),40<this.fontSizeGameOver&&this.fontSizeGameOver--;this.drawWinner();0==this.winner&&this.drawGameOver(this.fontSizeGameOver);this.drawContinue()}}drawGameOver(a){Gctx.font=a+"px sans-serif";Gctx.fillStyle="#000000";Gctx.fillRect(0,Gcanvas.height/2-40,Gcanvas.width,50);Gctx.fillStyle="#dfaa1a";Gctx.fillText("GAME OVER",(Gcanvas.width-
GticTacToe.getposX()-3*a)/2,Gcanvas.height/2)}drawWinner(){let a=Gcanvas.width/2,b=Gcanvas.height/2-100,c=Math.PI+3*Math.PI/2;Gctx.beginPath();Gctx.fillStyle="#dfaa1a";Gctx.arc(a,b,50,0,c,!1);Gctx.fill();Gctx.font="20px sans-serif";Gctx.fillStyle="#cc0000";Gctx.fillText("PLAYER ",(Gcanvas.width-GticTacToe.getposX()+43)/2,210);Gctx.fillStyle="#000000";Gctx.fillText(this.winner,(Gcanvas.width-GticTacToe.getposX()+110)/2,230);Gctx.fillStyle="#cc0000";Gctx.fillText("WIN",(Gcanvas.width-GticTacToe.getposX()+
80)/2,255)}drawContinue(){Gctx.fillStyle="#dfaa1a";Gctx.font="16px sans-serif";Gctx.fillText(" - C L I C K   T O   R E P L A Y -",(Gcanvas.width-GticTacToe.getposX()-120)/2,580)}drawScore(){Gctx.font="14px sans-serif";Gctx.fillStyle="#dfaa1a";Gctx.fillText("SCORE",35,130);Gctx.fillStyle="#ffffff";Gctx.fillText("PLAYER 1",28,150);Gctx.fillStyle="#3a8dc3";Gctx.font="20px sans-serif";Gctx.fillText(this.scoreP1,53,180);Gctx.font="14px sans-serif";Gctx.fillStyle="#dfaa1a";Gctx.fillText("SCORE",555,130);
Gctx.fillStyle="#ffffff";Gctx.fillText("PLAYER 2",548,150);Gctx.fillStyle="#3a8dc3";Gctx.font="20px sans-serif";Gctx.fillText(this.scoreP2,573,180)}clic(a,b){GsceneManager.goToScene("play");this.gameover?GsceneManager.goToScene("menu"):(GticTacToe.boardClic(a,b),this.winner=GticTacToe.boardGetWinner(a,b),0!=this.winner&&(this.gameover=!0))}};